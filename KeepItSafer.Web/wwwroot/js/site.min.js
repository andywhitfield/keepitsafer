function initialisePasswordGroups(){groups={};groups.groupsSection=$("#PasswordGroups");$("section",groups.groupsSection).children("article").hide();$(".group-section div",groups.groupsSection).click(toggleShowHideGroupItems);$('.password-list input[type="text"]').click(decryptPassword);$(".password-list li").click(hideDecryptedPassword)}function toggleShowHideGroupItems(){var n=$(this);console.log("group clicked: "+n.parent().attr("id"));n.next().toggle();$(window).scrollTop(n.position().top)}function hideDecryptedPassword(){var n=$('input[type="text"]',$(this));if(n.attr("data-type")=="encrypted"&&n.attr("data-decrypted")=="true"){console.log("password decrypted, reverting back to ****.");n.val("****");n.attr("data-decrypted","false");return}}function decryptPassword(){var n=$(this);if(n.attr("data-type")!="encrypted")return console.log("password not encrypted, nothing to do."),!1;if(n.attr("data-decrypted")=="true")return console.log("password already decrypted, nothing to do."),!1;var t=n.parents("li"),i=t.attr("id"),r=t.parents("section").attr("id");console.log("password clicked: "+i+" in group "+r);$.post("/api/decrypt",{group:r,entry:i}).done(function(t){console.log("received decrypt: "+t.decrypted+":"+t.decryptedValue);n.val(t.decryptedValue);n.attr("data-decrypted","true");n.select()}).fail(function(){console.log("decrypt failed")})}var groups;